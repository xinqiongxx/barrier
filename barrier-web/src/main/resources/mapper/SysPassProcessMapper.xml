<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2018-2025, Tjaide Group All rights reserved.
  -->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tjaide.nursery.barrier.web.mapper.SysPassProcessMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.tjaide.nursery.barrier.web.entity.SysPassProcess">
        <id column="id" property="id"/>
        <result column="enter_type" property="enter_type"/>
        <result column="photo" property="photo"/>
        <result column="status" property="status"/>
        <result column="remark" property="remark"/>
        <result column="user_id" property="userId"/>
        <result column="discern_id" property="discernId"/>
        <result column="create_time" property="createTime"/>
    </resultMap>
    <!-- 通用查询映射结果 -->
    <resultMap id="passProcessMap" type="com.tjaide.nursery.barrier.web.vo.SysPassProcessVo">
        <id column="id" property="id"/>
        <result column="enter_type" property="enter_type"/>
        <result column="photo" property="photo"/>
        <result column="status" property="status"/>
        <result column="remark" property="remark"/>
        <result column="user_id" property="userId"/>
        <result column="discern_id" property="discernId"/>
        <result column="create_time" property="createTime"/>
        <!--<association property="user" column="discern_id"
                     select="com.tjaide.nursery.barrier.web.mapper.SysDepotUserMapper.selectById"></association>-->
    </resultMap>

    <!--通过角色查询菜单信息-->
    <select id="findRecentPassVoList" resultMap="passProcessMap">
		SELECT
			sys_menu.*
		FROM
			sys_menu
		LEFT JOIN sys_role_menu ON sys_menu.menu_id = sys_role_menu.menu_id
		WHERE
			sys_menu.del_flag = '0'
		AND sys_role_menu.role_id = #{roleid}
		ORDER BY
			sys_menu.sort DESC
    </select>

</mapper>
